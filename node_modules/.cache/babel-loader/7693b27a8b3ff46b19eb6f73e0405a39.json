{"ast":null,"code":"var _jsxFileName = \"/Users/SWT/Desktop/test_shop_crud_copy/test_shop_crud_methods/src/components/ProductCard/index.js\";\nimport React, { useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchProductStart, setProduct } from './../../redux/Products/products.actions';\nimport { addProduct } from './../../redux/Cart/cart.actions';\nimport Button from './../forms/Button';\nimport './styles.scss';\n\nconst mapState = state => ({\n  product: state.productsData.product\n});\n\nconst ProductCard = _ref => {\n  let {} = _ref;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    productID\n  } = useParams();\n  const {\n    product\n  } = useSelector(mapState);\n  const {\n    productThumbnail,\n    productName,\n    productPrice,\n    productDesc\n  } = product;\n  useEffect(() => {\n    dispatch(fetchProductStart(productID));\n    return () => {\n      dispatch(setProduct({}));\n    };\n  }, []);\n\n  const handleAddToCart = product => {\n    if (!product) return;\n    dispatch(addProduct(product));\n    history.push('/cart');\n  };\n\n  const configAddToCartBtn = {\n    type: 'button'\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: productThumbnail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productDetails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, productName)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"\\xA3\", productPrice)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addToCart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, Object.assign({}, configAddToCartBtn, {\n    onClick: () => handleAddToCart(product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }), \"Add to cart\"))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"desc\",\n    dangerouslySetInnerHTML: {\n      __html: productDesc\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default ProductCard;","map":{"version":3,"sources":["/Users/SWT/Desktop/test_shop_crud_copy/test_shop_crud_methods/src/components/ProductCard/index.js"],"names":["React","useEffect","useParams","useHistory","useDispatch","useSelector","fetchProductStart","setProduct","addProduct","Button","mapState","state","product","productsData","ProductCard","dispatch","history","productID","productThumbnail","productName","productPrice","productDesc","handleAddToCart","push","configAddToCartBtn","type","__html"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchProductStart, setProduct } from './../../redux/Products/products.actions';\nimport { addProduct } from './../../redux/Cart/cart.actions';\nimport Button from './../forms/Button';\nimport './styles.scss';\n\nconst mapState = state => ({\n  product: state.productsData.product\n});\n\nconst ProductCard = ({}) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { productID } = useParams();\n  const { product } = useSelector(mapState);\n\n  const {\n    productThumbnail,\n    productName,\n    productPrice,\n    productDesc,\n  } = product;\n\n  useEffect(() => {\n    dispatch(\n      fetchProductStart(productID)\n    )\n\n    return () => {\n      dispatch(\n        setProduct({})\n      )\n    }\n\n  }, []);\n\n  const handleAddToCart = (product) => {\n    if (!product) return;\n    dispatch(\n      addProduct(product)\n    );\n    history.push('/cart');\n  }\n\n  const configAddToCartBtn = {\n    type: 'button'\n  }\n\n  return (\n    <div className=\"productCard\">\n      <div className=\"hero\">\n        <img src={productThumbnail} />\n      </div>\n      <div className=\"productDetails\">\n        <ul>\n          <li>\n            <h1>\n              {productName}\n            </h1>\n          </li>\n          <li>\n            <span>\n              Â£{productPrice}\n            </span>\n          </li>\n          <li>\n            <div className=\"addToCart\">\n              <Button {...configAddToCartBtn} onClick={() => handleAddToCart(product)}>\n                Add to cart\n              </Button>\n            </div>\n          </li>\n          <li>\n            <span\n              className=\"desc\"\n              dangerouslySetInnerHTML={{ __html: productDesc }} />\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default ProductCard;\n"]},"metadata":{},"sourceType":"module"}