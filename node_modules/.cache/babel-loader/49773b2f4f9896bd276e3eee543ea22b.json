{"ast":null,"code":"var _jsxFileName = \"/Users/SWT/Desktop/test_shop_crud_copy/src/pages/Categories/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addProductStart, fetchProductsStart, deleteProductStart } from './../../redux/Products/products.actions';\nimport Modal from './../../components/Modal';\nimport FormInput from './../../components/forms/FormInput';\nimport FormSelect from './../../components/forms/FormSelect';\nimport Button from './../../components/forms/Button';\nimport LoadMore from './../../components/LoadMore';\nimport CKEditor from 'ckeditor4-react';\nimport './styles.scss';\n\nconst mapState = _ref => {\n  let {\n    productsData\n  } = _ref;\n  return {\n    products: productsData.products\n  };\n};\n\nconst Categories = props => {\n  const {\n    products\n  } = useSelector(mapState);\n  const dispatch = useDispatch();\n  const [hideModal, setHideModal] = useState(true);\n  const [productCategory, setProductCategory] = useState('mens');\n  const [productName, setProductName] = useState('');\n  const [productThumbnail, setProductThumbnail] = useState('');\n  const [productPrice, setProductPrice] = useState(0);\n  const [productDesc, setProductDesc] = useState('');\n  const {\n    data,\n    queryDoc,\n    isLastPage\n  } = products;\n  useEffect(() => {\n    dispatch(fetchProductsStart());\n  }, []);\n\n  const toggleModal = () => setHideModal(!hideModal);\n\n  const configModal = {\n    hideModal,\n    toggleModal\n  };\n\n  const resetForm = () => {\n    setHideModal(true);\n    setProductCategory('mens');\n    setProductName('');\n    setProductThumbnail('');\n    setProductPrice(0);\n    setProductDesc('');\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(addProductStart({\n      productCategory,\n      productName,\n      productThumbnail,\n      productPrice,\n      productDesc\n    }));\n    resetForm();\n  };\n\n  const handleLoadMore = () => {\n    dispatch(fetchProductsStart({\n      startAfterDoc: queryDoc,\n      persistProducts: data\n    }));\n  };\n\n  const configLoadMore = {\n    onLoadMoreEvt: handleLoadMore\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"categories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"callToActions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => toggleModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"Add new category\")))), /*#__PURE__*/React.createElement(Modal, Object.assign({}, configModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addNewProductForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Add new product\"), /*#__PURE__*/React.createElement(FormSelect, {\n    label: \"Category\",\n    options: [{\n      value: \"mens\",\n      name: \"Mens\"\n    }, {\n      value: \"womens\",\n      name: \"Womens\"\n    }],\n    handleChange: e => setProductCategory(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormInput, {\n    label: \"Name\",\n    type: \"text\",\n    value: productName,\n    handleChange: e => setProductName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormInput, {\n    label: \"Main image URL\",\n    type: \"url\",\n    value: productThumbnail,\n    handleChange: e => setProductThumbnail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormInput, {\n    label: \"Price\",\n    type: \"number\",\n    min: \"0.00\",\n    max: \"10000.00\",\n    step: \"0.01\",\n    value: productPrice,\n    handleChange: e => setProductPrice(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CKEditor, {\n    onChange: evt => setProductDesc(evt.editor.getData()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, \"Add product\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"manageProducts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    border: \"0\",\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, \"Add/ Delete/ Upate Categories\"))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"results\",\n    border: \"0\",\n    cellPadding: \"10\",\n    cellSpacing: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 19\n    }\n  }, Array.isArray(data) && data.length > 0 && data.map((product, index) => {\n    const {\n      productName,\n      productThumbnail,\n      productPrice,\n      documentID\n    } = product;\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"thumb\",\n      src: productThumbnail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 27\n      }\n    }, productName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 27\n      }\n    }, \"\\xA3\", productPrice), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => dispatch(deleteProductStart(documentID)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, \"Delete\")));\n  }))))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default Categories;","map":{"version":3,"sources":["/Users/SWT/Desktop/test_shop_crud_copy/src/pages/Categories/index.js"],"names":["React","useState","useEffect","useDispatch","useSelector","addProductStart","fetchProductsStart","deleteProductStart","Modal","FormInput","FormSelect","Button","LoadMore","CKEditor","mapState","productsData","products","Categories","props","dispatch","hideModal","setHideModal","productCategory","setProductCategory","productName","setProductName","productThumbnail","setProductThumbnail","productPrice","setProductPrice","productDesc","setProductDesc","data","queryDoc","isLastPage","toggleModal","configModal","resetForm","handleSubmit","e","preventDefault","handleLoadMore","startAfterDoc","persistProducts","configLoadMore","onLoadMoreEvt","value","name","target","evt","editor","getData","Array","isArray","length","map","product","index","documentID"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addProductStart, fetchProductsStart, deleteProductStart } from './../../redux/Products/products.actions';\nimport Modal from './../../components/Modal';\nimport FormInput from './../../components/forms/FormInput';\nimport FormSelect from './../../components/forms/FormSelect';\nimport Button from './../../components/forms/Button';\nimport LoadMore from './../../components/LoadMore';\nimport CKEditor from 'ckeditor4-react';\nimport './styles.scss';\n\nconst mapState = ({ productsData }) => ({\n  products: productsData.products\n});\n\nconst Categories = props => {\n  const { products } = useSelector(mapState);\n  const dispatch = useDispatch();\n  const [hideModal, setHideModal] = useState(true);\n  const [productCategory, setProductCategory] = useState('mens');\n  const [productName, setProductName] = useState('');\n  const [productThumbnail, setProductThumbnail] = useState('');\n  const [productPrice, setProductPrice] = useState(0);\n  const [productDesc, setProductDesc] = useState('');\n\n  const { data, queryDoc, isLastPage } = products;\n\n  useEffect(() => {\n    dispatch(\n      fetchProductsStart()\n    );\n  }, []);\n\n  const toggleModal = () => setHideModal(!hideModal);\n\n  const configModal = {\n    hideModal,\n    toggleModal\n  };\n\n  const resetForm = () => {\n    setHideModal(true);\n    setProductCategory('mens');\n    setProductName('');\n    setProductThumbnail('');\n    setProductPrice(0);\n    setProductDesc('');\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    dispatch(\n      addProductStart({\n        productCategory,\n        productName,\n        productThumbnail,\n        productPrice,\n        productDesc,\n      })\n    );\n    resetForm();\n\n  };\n\n  const handleLoadMore = () => {\n    dispatch(\n      fetchProductsStart({\n        startAfterDoc: queryDoc,\n        persistProducts: data\n      })\n    );\n  };\n\n  const configLoadMore = {\n    onLoadMoreEvt: handleLoadMore,\n  };\n\n  return (\n    <div className=\"categories\">\n\n      <div className=\"callToActions\">\n        <ul>\n          <li>\n            <Button onClick={() => toggleModal()}>\n              Add new category\n            </Button>\n          </li>\n        </ul>\n      </div>\n\n      <Modal {...configModal}>\n        <div className=\"addNewProductForm\">\n          <form onSubmit={handleSubmit}>\n\n            <h2>\n              Add new product\n            </h2>\n\n            <FormSelect\n              label=\"Category\"\n              options={[{\n                value: \"mens\",\n                name: \"Mens\"\n              }, {\n                value: \"womens\",\n                name: \"Womens\"\n              }]}\n              handleChange={e => setProductCategory(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Name\"\n              type=\"text\"\n              value={productName}\n              handleChange={e => setProductName(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Main image URL\"\n              type=\"url\"\n              value={productThumbnail}\n              handleChange={e => setProductThumbnail(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Price\"\n              type=\"number\"\n              min=\"0.00\"\n              max=\"10000.00\"\n              step=\"0.01\"\n              value={productPrice}\n              handleChange={e => setProductPrice(e.target.value)}\n            />\n\n            <CKEditor\n              onChange={evt => setProductDesc(evt.editor.getData())}\n            />\n\n            <br />\n\n            <Button type=\"submit\">\n              Add product\n            </Button>\n\n          </form>\n        </div>\n      </Modal>\n\n      <div className=\"manageProducts\">\n\n        <table border=\"0\" cellPadding=\"0\" cellSpacing=\"0\">\n          <tbody>\n            <tr>\n              <th>\n                <h1>\n                  Add/ Delete/ Upate Categories \n                </h1>\n              </th>\n            </tr>\n            <tr>\n              <td>\n                <table className=\"results\" border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\n                  <tbody>\n                    {(Array.isArray(data) && data.length > 0) && data.map((product, index) => {\n                      const {\n                        productName,\n                        productThumbnail,\n                        productPrice,\n                        documentID\n                      } = product;\n\n                      return (\n                        <tr key={index}>\n                          <td>\n                            <img className=\"thumb\" src={productThumbnail} />\n                          </td>\n                          <td>\n                            {productName}\n                          </td>\n                          <td>\n                            £{productPrice}\n                          </td>\n                          <td>\n                            <Button onClick={() => dispatch(deleteProductStart(documentID))}>\n                              Delete\n                            </Button>\n                          </td>\n                        </tr>\n                      )\n                    })}\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td>\n\n              </td>\n            </tr>\n            <tr>\n              <td>\n                {/* <table border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\n                  <tbody>\n                    <tr>\n                      <td>\n                        {!isLastPage && (\n                          <LoadMore {...configLoadMore} />\n                        )}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table> */}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n      </div>\n\n    </div>\n  );\n}\n\nexport default Categories;"]},"metadata":{},"sourceType":"module"}